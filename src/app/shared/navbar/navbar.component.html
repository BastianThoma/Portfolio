<div class="navbar">
  <div id="navbarContent" class="navbarContent">
    <div id="menu" class="menu">
      <div class="languageSwitch">
        <button
          class="fontFiraCode"
          [class.selected]="currentLang === 'en'"
          [attr.aria-label]="'MENU.SWITCH_TO_ENGLISH' | translate"
          [attr.aria-current]="currentLang === 'en' ? 'true' : null"
          (click)="switchLanguage('en')"
        >
          EN
        </button>

        <button
          class="fontFiraCode"
          [class.selected]="currentLang === 'de'"
          [attr.aria-label]="'MENU.SWITCH_TO_GERMAN' | translate"
          [attr.aria-current]="currentLang === 'de' ? 'true' : null"
          (click)="switchLanguage('de')"
        >
          DE
        </button>
      </div>

      <div class="menuLink fontFiraCode">
        <a href="#aboutMeSection">{{ "MENU.ABOUT_ME" | translate }}</a>
        <img
          class="radioButton hidden"
          src="/assets/img/radio_button_unchecked.png"
          width="8px"
          height="8px"
          alt=""
        />
      </div>
      <div class="menuLink fontFiraCode">
        <a href="#skillsSection">{{ "MENU.SKILLS" | translate }}</a>
        <img
          class="radioButton hidden"
          src="/assets/img/radio_button_unchecked.png"
          width="8px"
          height="8px"
          alt=""
        />
      </div>
      <div class="menuLink fontFiraCode">
        <a href="#projectsSection">{{ "MENU.PROJECTS" | translate }}</a>
        <img
          class="radioButton hidden"
          src="/assets/img/radio_button_unchecked.png"
          width="8px"
          height="8px"
          alt=""
        />
      </div>
    </div>
    <div 
      id="navbarLogo" 
      class="logo" 
      role="button"
      tabindex="0"
      [attr.aria-label]="'MENU.LOGO_ARIA_LABEL' | translate"
      (click)="navigateToMainPage()"
      (keydown.enter)="navigateToMainPage()"
      (keydown.space)="$event.preventDefault(); navigateToMainPage()"
    ></div>
    <div
      class="burgerMenu"
      id="burgerMenu"
      role="button"
      tabindex="0"
      [attr.aria-label]="isMenuOpen ? ('MENU.CLOSE_MENU_ARIA_LABEL' | translate) : ('MENU.OPEN_MENU_ARIA_LABEL' | translate)"
      [attr.aria-expanded]="isMenuOpen"
      [ngClass]="{ menuOpen: isMenuOpen }"
      (click)="togglePopup()"
      (keydown.enter)="togglePopup()"
      (keydown.space)="$event.preventDefault(); togglePopup()"
    ></div>
  </div>

  <div class="overlay" *ngIf="isPopupVisible" (click)="closePopup()"></div>
  <div class="popup" *ngIf="isPopupVisible" (click)="$event.stopPropagation()">
    <div class="popupMenu">
      <div class="popupMenuLink">
        <a href="#aboutMeSection" (click)="closePopup()">{{
          "MENU.ABOUT_ME" | translate
        }}</a>
        <img
          class="radioButton hidden"
          src="/assets/img/radio_button_unchecked.png"
          width="8px"
          height="8px"
          alt=""
        />
      </div>
      <div class="popupMenuLink" (click)="closePopup()">
        <a href="#skillsSection">{{ "MENU.SKILLS" | translate }}</a>
        <img
          class="radioButton hidden"
          src="/assets/img/radio_button_unchecked.png"
          width="8px"
          height="8px"
          alt=""
        />
      </div>
      <div class="popupMenuLink" (click)="closePopup()">
        <a href="#projectsSection">{{ "MENU.PROJECTS" | translate }}</a>
        <img
          class="radioButton hidden"
          src="/assets/img/radio_button_unchecked.png"
          width="8px"
          height="8px"
          alt=""
        />
      </div>
    </div>
    <div class="popupLanguageSwitch">
      <button
        class="popupButton fontFiraCode"
        [class.selected]="currentLang === 'en'"
        [attr.aria-label]="'MENU.SWITCH_TO_ENGLISH' | translate"
        [attr.aria-current]="currentLang === 'en' ? 'true' : null"
        (click)="switchLanguage('en')"
      >
        EN
      </button>

      <button
        class="popupButton fontFiraCode"
        [class.selected]="currentLang === 'de'"
        [attr.aria-label]="'MENU.SWITCH_TO_GERMAN' | translate"
        [attr.aria-current]="currentLang === 'de' ? 'true' : null"
        (click)="switchLanguage('de')"
      >
        DE
      </button>
    </div>
  </div>
</div>
